<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="prefer-datetime-locale" content="zh-cn"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Java 注解使用" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="注解概述 注解的定义 注解，顾名思义，就是对某一事物添加注释说明，其会存放一些信息，这些信息可能对以后某个时段来说是很有用处的。 Java注解又叫java标注，java提供了一套机制，使得我们可以对包、类、方法、域、参数、变量等添加标注(即附上某些信息)，且在以后某个时段通过反射将标注的信息提取出来以供使用" /><meta property="og:description" content="注解概述 注解的定义 注解，顾名思义，就是对某一事物添加注释说明，其会存放一些信息，这些信息可能对以后某个时段来说是很有用处的。 Java注解又叫java标注，java提供了一套机制，使得我们可以对包、类、方法、域、参数、变量等添加标注(即附上某些信息)，且在以后某个时段通过反射将标注的信息提取出来以供使用" /><link rel="canonical" href="https://optimus-xs.github.io/posts/java-annotation-usage/" /><meta property="og:url" content="https://optimus-xs.github.io/posts/java-annotation-usage/" /><meta property="og:site_name" content="Optimus-Xs’ Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-11-13T14:40:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Java 注解使用" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="VWHcsZQRCRLxZT171OOZpP1emj_N4gMlSvgq8UReWz4" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-11-13T14:40:00+08:00","datePublished":"2020-11-13T14:40:00+08:00","description":"注解概述 注解的定义 注解，顾名思义，就是对某一事物添加注释说明，其会存放一些信息，这些信息可能对以后某个时段来说是很有用处的。 Java注解又叫java标注，java提供了一套机制，使得我们可以对包、类、方法、域、参数、变量等添加标注(即附上某些信息)，且在以后某个时段通过反射将标注的信息提取出来以供使用","headline":"Java 注解使用","mainEntityOfPage":{"@type":"WebPage","@id":"https://optimus-xs.github.io/posts/java-annotation-usage/"},"url":"https://optimus-xs.github.io/posts/java-annotation-usage/"}</script><title>Java 注解使用 | Optimus-Xs' Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Optimus-Xs' Blog"><meta name="application-name" content="Optimus-Xs' Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/miTu.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Optimus-Xs' Blog</a></div><div class="site-subtitle font-italic">「Think Different」</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/Optimus-Xs" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['Wenlong.Zuo','outlook.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>Java 注解使用</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Java 注解使用</h1><div class="post-meta text-muted"><div> 作者 <em> <a href="https://github.com/Optimus-Xs">Optimus-Xs</a> </em></div><div class="d-flex"><div> <span> 发表于 <em class="timeago" data-ts="1605249600" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2020-11-13 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4042 字"> <em>22 分钟</em>阅读</span></div></div></div><div class="post-content"><h1 id="注解概述">注解概述</h1><h2 id="注解的定义"><span class="mr-2">注解的定义</span><a href="#注解的定义" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>注解，顾名思义，就是对某一事物添加注释说明，其会存放一些信息，这些信息可能对以后某个时段来说是很有用处的。 Java注解又叫java标注，java提供了一套机制，使得我们可以对包、类、方法、域、参数、变量等添加标注(即附上某些信息)，且在以后某个时段通过反射将标注的信息提取出来以供使用</p><p>官网描述如下:</p><blockquote><p>Java 注解用于为 Java 代码提供元数据。作为元数据，注解不直接影响你的代码执行，但也有一些类型的注解实际上可以用于这一目的。Java 注解是从 Java5 开始添加到 Java 的。</p></blockquote><p>将上面的话再翻译一下，如下：</p><ul><li>元数据在开发中的作用就是做数据约束和标准定义，可以将其理解成代码的规范标准（代码的模板）；<li>代码的模板（元数据）不直接影响代码的执行，它只是帮助我们来更快捷的开发；</ul><p>综上，注解是一种元数据，可以将它理解为注释、解释，它为我们在代码中添加信息提供了一种形式化的方法，它用于帮助我们更快捷的写代码。</p><h2 id="注解的作用"><span class="mr-2">注解的作用</span><a href="#注解的作用" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>在说注解的用途之前，我们先介绍下XML和注解区别：</p><p>注解：是一种分散式的元数据，与源代码紧绑定。 xml：是一种集中式的元数据，与源代码无绑定 这部分多用于Java后台的配置项开发中，我们知道几年前服务器的配置项多存放在一个xml文件中，而spring 2.5 之后开始基于注解配置，从而实现了代替配置文件的功能。 注解的用途有很多，上面的只是一个简单的例子，总起起来，注解有如下四大部分作用：</p><ol><li>生成文档，通过代码里标识的元数据生成javadoc文档。<li>编译检查，通过代码里标识的元数据让编译器在编译期间进行检查验证。<li>编译时动态处理，编译时通过代码里标识的元数据动态处理，例如动态生成代码。<li>运行时动态处理，运行时通过代码里标识的元数据动态处理，例如使用反射注入实例</ol><h1 id="注解的分类">注解的分类</h1><p>一般常用的注解可以分为三类：</p><ol><li><p>Java自带的标准注解 <br />包括@Override、@Deprecated、@SuppressWarnings等，使用这些注解后编译器就会进行检查。</p><li><p>元注解 元注解是用于定义注解的注解，包括@Retention、@Target、@Inherited、@Documented、@Repeatable 等。 <br />元注解也是Java自带的标准注解，只不过用于修饰注解，比较特殊。</p><li><p>自定义注解 <br />用户可以根据自己的需求定义注解。</p></ol><h2 id="java自带的标准注解"><span class="mr-2">Java自带的标准注解</span><a href="#java自带的标准注解" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>常用的Java注解如下：</p><ol><li>@Deprecated – 所标注内容不再被建议使用；<li>@Override – 只能标注方法，表示该方法覆盖父类中的方法；<li>@Documented - 所标注内容可以出现在javadoc中；<li>@Inherited – 只能被用来标注“Annotation类型”，它所标注的Annotation具有继承性；<li>@Retention – 只能被用来标注“Annotation类型”，而且它被用来指定Annotation的RetentionPolicy属性；<li>@Target – 只能被用来标注“Annotation类型”，而且它被用来指定Annotation的ElementType属性；<li>@SuppressWarnings – 所标注内容产生的警告，编译器会对这些警告保持静默；<li>@interface – 用于定义一个注解；</ol><blockquote class="prompt-tip"><div><p>其中，4、5、6、8多用于自定义注解，着重记一下。</p></div></blockquote><h2 id="元注解"><span class="mr-2">元注解</span><a href="#元注解" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>常用的元注解有@Retention、 @Target、 @Document、 @Inherited和@Repeatable五个。</p><h3 id="retention"><span class="mr-2">@Retention</span><a href="#retention" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Retention英文意思有保留、保持的意思，它表示注解存在阶段是保留在源码（编译期），字节码（类加载）或者运行期（JVM中运行）。</p><p>在@Retention注解中使用枚举RetentionPolicy来表示注解保留时期：</p><ul><li>@Retention(RetentionPolicy.SOURCE)，注解仅存在于源码中，在class字节码文件中不包含<li>@Retention(RetentionPolicy.CLASS)， 默认的保留策略，注解会在class字节码文件中存在，但运行时无法获得<li>@Retention(RetentionPolicy.RUNTIME)， 注解会在class字节码文件中存在，在运行时可以通过反射获取到, 操作方法看AnnotatedElement(所有被注释类的父类)</ul><p>如果我们是自定义注解，则通过前面分析，我们自定义注解如果只存着源码中或者字节码文件中就无法发挥作用，而在运行期间能获取到注解才能实现我们目的，所以自定义注解中肯定是使用 @Retention(RetentionPolicy.RUNTIME)，如下：</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nd">@Retention</span><span class="o">(</span><span class="nc">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nd">@interface</span> <span class="nc">MyTestAnnotation</span> <span class="o">{</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="target"><span class="mr-2">@Target</span><a href="#target" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Target的英文意思是目标，这也很容易理解，使用@Target元注解表示我们的注解作用的范围就比较具体了，可以是类，方法，方法参数变量等，同样也是通过枚举类ElementType表达作用类型：</p><ul><li>@Target(ElementType.TYPE) 作用接口、类、枚举、注解<li>@Target(ElementType.FIELD) 作用属性字段、枚举的常量<li>@Target(ElementType.METHOD) 作用方法<li>@Target(ElementType.PARAMETER) 作用方法参数<li>@Target(ElementType.CONSTRUCTOR) 作用构造函数<li>@Target(ElementType.LOCAL_VARIABLE)作用局部变量<li>@Target(ElementType.ANNOTATION_TYPE)作用于注解（@Retention注解中就使用该属性）<li>@Target(ElementType.PACKAGE) 作用于包<li>@Target(ElementType.TYPE_PARAMETER) 作用于类型泛型，即泛型方法、泛型类、泛型接口 （jdk1.8加入）<li>@Target(ElementType.TYPE_USE) 类型使用.可以用于标注任意类型除了 class （jdk1.8加入）</ul><p>一般比较常用的是ElementType.TYPE类型，如下：</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>  <span class="nd">@Retention</span><span class="o">(</span><span class="nc">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
  <span class="nd">@Target</span><span class="o">(</span><span class="nc">ElementType</span><span class="o">.</span><span class="na">TYPE</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nd">@interface</span> <span class="nc">MyTestAnnotation</span> <span class="o">{</span>
  
  <span class="o">}</span>
</pre></table></code></div></div><p>ElementType.TYPE_PARAMETER的用法示例</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">D</span><span class="o">&lt;</span><span class="nd">@PTest</span> <span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span> <span class="o">}</span> <span class="c1">// 注解@PTest作用于泛型T</span>
</pre></table></code></div></div><p>ElementType.TYPE_USE的用法示例</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="c1">//用于父类或者接口 </span>
<span class="kd">class</span> <span class="nc">Test</span> <span class="kd">implements</span> <span class="nd">@Parent</span> <span class="nc">TestP</span> <span class="o">{}</span> 

<span class="c1">//用于构造函数</span>
<span class="k">new</span> <span class="nd">@Test</span> <span class="nc">String</span><span class="o">(</span><span class="s">"/usr/data"</span><span class="o">)</span>

<span class="c1">//用于强制转换和instanceof检查,注意这些注解中用于外部工具</span>
<span class="c1">//它们不会对类型转换或者instanceof的检查行为带来任何影响</span>
<span class="nc">String</span> <span class="n">path</span><span class="o">=(</span><span class="nd">@Test</span> <span class="nc">String</span><span class="o">)</span><span class="n">input</span><span class="o">;</span>
<span class="k">if</span><span class="o">(</span><span class="n">input</span> <span class="k">instanceof</span> <span class="nd">@Test</span> <span class="nc">String</span><span class="o">)</span> <span class="c1">//注解不会影响</span>

<span class="c1">//用于指定异常</span>
<span class="kd">public</span> <span class="nc">Person</span> <span class="nf">read</span><span class="o">()</span> <span class="kd">throws</span> <span class="nd">@Test</span> <span class="nc">IOException</span><span class="o">.</span>

<span class="c1">//用于通配符绑定</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nd">@Test</span> <span class="o">?</span> <span class="kd">extends</span> <span class="nc">Data</span><span class="o">&gt;</span>
<span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nd">@Test</span> <span class="nc">Data</span><span class="o">&gt;</span>

<span class="nd">@Test</span> <span class="nc">String</span><span class="o">.</span><span class="na">class</span> <span class="c1">//非法，不能标注class</span>
</pre></table></code></div></div><h3 id="document"><span class="mr-2">@Document</span><a href="#document" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Document的英文意思是文档。它的作用是能够将注解中的元素包含到 Javadoc 中去。</p><h3 id="inherited"><span class="mr-2">@Inherited</span><a href="#inherited" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Inherited的英文意思是继承，但是这个继承和我们平时理解的继承大同小异，一个被@Inherited注解了的注解修饰了一个父类，如果他的子类没有被其他注解修饰，则它的子类也继承了父类的注解。</p><p>子类Class&lt;T&gt;通过getAnnotations()可获取父类被@Inherited修饰的注解。而注解本身是不支持继承</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="nd">@Inherited</span>
<span class="nd">@Retention</span><span class="o">(</span> <span class="n">value</span> <span class="o">=</span> <span class="nc">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="nd">@Target</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="nc">ElementType</span><span class="o">.</span><span class="na">TYPE</span><span class="o">)</span>
<span class="kd">public</span> <span class="nd">@interface</span> <span class="nc">ATest</span> <span class="o">{</span>  <span class="o">}</span>
<span class="o">----</span><span class="n">被ATest注解的父类PTest</span><span class="o">----</span>
<span class="nd">@ATest</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PTest</span><span class="o">{</span> <span class="o">}</span>

<span class="o">---</span><span class="nc">Main是PTest的子类</span><span class="o">----</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="kd">extends</span> <span class="nc">PTest</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="nc">Annotation</span> <span class="n">an</span> <span class="o">=</span> <span class="nc">Main</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getAnnotations</span><span class="o">()[</span><span class="mi">0</span><span class="o">];</span>
          <span class="c1">//Main可以拿到父类的注解ATest，因为ATest被元注解@Inherited修饰</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">an</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>  
<span class="o">---</span><span class="n">result</span><span class="o">--</span>
<span class="nd">@com</span><span class="o">.</span><span class="na">ATest</span><span class="o">()</span>  
</pre></table></code></div></div><h3 id="repeatable"><span class="mr-2">@Repeatable</span><a href="#repeatable" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>JDK1.8新加入的，表明自定义的注解可以在同一个位置重复使用。在没有该注解前，是无法在同一个类型上使用相同的注解多次</p><p>Repeatable的英文意思是可重复的。顾名思义说明被这个元注解修饰的注解可以同时作用一个对象多次，但是每次作用注解又可以代表不同的含义。</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>  <span class="c1">//Java8前无法重复使用注解</span>
  <span class="nd">@FilterPath</span><span class="o">(</span><span class="s">"/test/v2"</span><span class="o">)</span>
  <span class="nd">@FilterPath</span><span class="o">(</span><span class="s">"/test/v1"</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{}</span>
</pre></table></code></div></div><h2 id="自定义注解"><span class="mr-2">自定义注解</span><a href="#自定义注解" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>在Java中，我们使用@interface注解来自定义一个注解，如下：</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="nd">@interface</span> <span class="nc">MyTestAnnotation</span> <span class="o">{</span>

<span class="o">}</span>
</pre></table></code></div></div><p>此时，我们已经定义了一个注解MyTestAnnotation ，接着我们就可以在类或者方法上作用我们刚刚新建的注解：</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nd">@MyTestAnnotation</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
   <span class="nd">@MyTestAnnotation</span>
   <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testString</span><span class="o">(){</span>
   <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>此时，我们已经自定义了一个注解，不过现在这个注解毫无意义。</p><p>要如何使注解工作呢？这就需要使用元注解了。</p><p>这时候就需要使用java内置的四个元注解对自定义注解的功能和范围进行一些限制</p><h1 id="注解的使用">注解的使用</h1><h2 id="使用java自带的注解"><span class="mr-2">使用Java自带的注解</span><a href="#使用java自带的注解" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Java 自带的注解，就是 java.lang中定义的一套注解，以Override注解为例，使用方法如下：</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nd">@Override</span>         <span class="c1">//在需要注解的方法上面@Override即可</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">()</span> <span class="o">{</span>
      
<span class="o">}</span>
</pre></table></code></div></div><h2 id="自定义注解-1"><span class="mr-2">自定义注解</span><a href="#自定义注解-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>使用@interface自定义注解时，自动继承了java.lang.annotation.Annotation接口，由编译程序自动完成其他细节。在定义注解时，不能继承其他的注解或接口。@interface用来声明一个注解，其中的每一个方法实际上是声明了一个配置参数。方法的名称就是参数的名称，返回值类型就是参数的类型（返回值类型只能是基本类型、Class、String、enum）。可以通过default来声明参数的默认值。</p><p>定义注解格式</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="nd">@interface</span> <span class="n">注解名</span> <span class="o">{</span><span class="n">定义体</span><span class="o">}</span>
</pre></table></code></div></div><p>注解参数的可支持数据类型</p><ul><li>所有基本数据类型（int,float,boolean,byte,double,char,long,short)<li>String类型<li>Class类型<li>enum类型<li>Annotation类型<li>以上所有类型的数组</ul><p>下面通过源码来展示自定义注解： 首先，我们自定义一个注解：AuthorAnnotation 来标记作者的信息</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="cm">/**
 * 自定义注解：作者信息注解
 */</span>
<span class="nd">@Target</span><span class="o">(</span><span class="nc">ElementType</span><span class="o">.</span><span class="na">FIELD</span><span class="o">)</span>
<span class="nd">@Retention</span><span class="o">(</span><span class="nc">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="nd">@Documented</span>
<span class="kd">public</span> <span class="nd">@interface</span> <span class="nc">AuthorAnnotation</span> <span class="o">{</span>
	<span class="c1">// 名字</span>
	<span class="nc">String</span> <span class="nf">name</span><span class="o">();</span>
	<span class="c1">// 年龄</span>
	<span class="kt">int</span> <span class="nf">age</span><span class="o">()</span> <span class="k">default</span> <span class="mi">19</span><span class="o">;</span>
	<span class="c1">// 性别</span>
	<span class="nc">String</span> <span class="nf">gender</span><span class="o">()</span> <span class="k">default</span> <span class="s">"男"</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p>其次，再定义一个注解：BookAnnotation 来标记故事书籍的内容信息</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="cm">/**
 * 自定义注解：树的信息注解
 */</span>
<span class="nd">@Target</span><span class="o">({</span> <span class="nc">ElementType</span><span class="o">.</span><span class="na">TYPE</span><span class="o">,</span> <span class="nc">ElementType</span><span class="o">.</span><span class="na">METHOD</span> <span class="o">})</span>
<span class="nd">@Retention</span><span class="o">(</span><span class="nc">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="nd">@Documented</span>
<span class="nd">@Inherited</span>
<span class="kd">public</span> <span class="nd">@interface</span> <span class="nc">BookAnnotation</span> <span class="o">{</span>
	<span class="c1">// 书名</span>
	<span class="nc">String</span> <span class="nf">bookName</span><span class="o">();</span>
	<span class="c1">// 女主人公</span>
	<span class="nc">String</span> <span class="nf">heroine</span><span class="o">();</span>
	<span class="c1">// 书的简介</span>
	<span class="nc">String</span> <span class="nf">briefOfBook</span><span class="o">();</span>
	<span class="c1">// 书的销量</span>
	<span class="kt">int</span> <span class="nf">sales</span><span class="o">()</span> <span class="k">default</span> <span class="mi">10000</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p>最后，我们定义一种类型的书：LoveStoryBook，类注解标记的是《硅谷之火》，为了区分，方法注解标记的是《think in java》</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="cm">/**
 * 爱的故事
 */</span>
<span class="nd">@BookAnnotation</span><span class="o">(</span><span class="n">bookName</span> <span class="o">=</span> <span class="s">"硅谷之火"</span><span class="o">,</span>
				<span class="n">briefOfBook</span> <span class="o">=</span> <span class="s">"本书以一个个生动的故事，介绍了这些计算机业余爱好者以怎样的创新精神和不懈的努力，将计算机技术的力量包装在一个小巧玲珑的机壳里，实现了个人拥有计算机的梦想"</span><span class="o">,</span>
				<span class="n">sales</span> <span class="o">=</span> <span class="mi">1000001</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LoveStoryBook</span> <span class="o">{</span>
	<span class="nd">@AuthorAnnotation</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"迈克尔.斯韦因"</span><span class="o">,</span> <span class="n">gender</span> <span class="o">=</span> <span class="s">"男"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">user</span><span class="o">;</span>
	<span class="nd">@BookAnnotation</span><span class="o">(</span><span class="n">bookName</span> <span class="o">=</span> <span class="s">"think in java"</span><span class="o">,</span>
			<span class="n">briefOfBook</span> <span class="o">=</span> <span class="s">"本书详细地阐述了面向对象原理。覆盖了所有基础知识,同时论述了高级特性,适合初学者与专业人员的经典的面向对象叙述方式,为更新的Java SE5/6增加了新的示例和章节"</span><span class="o">,</span>
			<span class="n">sales</span> <span class="o">=</span> <span class="mi">100000</span><span class="o">)</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">getBookInfo</span><span class="o">(){</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>注解解析</p><p>上面已经将要注解的类和两个注解类实现了，下面定义一个类：ParseAnnotation，来解析我们自定义的注解</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ParseAnnotation</span> <span class="o">{</span>
	<span class="cm">/**
	 *
	 * 解析类注解
	 * LoveStoryBook
	 * @throws ClassNotFoundException
	 */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">parseTypeAnnotation</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">ClassNotFoundException</span><span class="o">{</span>
        <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"rawtypes"</span><span class="o">)</span>
		<span class="nc">Class</span> <span class="n">clazz</span> <span class="o">=</span> <span class="nc">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">"com.akathink.entity.LoveStoryBook"</span><span class="o">);</span>
        <span class="nc">Annotation</span><span class="o">[]</span> <span class="n">annotations</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getAnnotations</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Annotation</span> <span class="n">annotation</span> <span class="o">:</span> <span class="n">annotations</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">BookAnnotation</span> <span class="n">bookAnnotation</span> <span class="o">=</span> <span class="o">(</span><span class="nc">BookAnnotation</span><span class="o">)</span> <span class="n">annotation</span><span class="o">;</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"书名："</span> <span class="o">+</span> <span class="n">bookAnnotation</span><span class="o">.</span><span class="na">bookName</span><span class="o">()</span> <span class="o">+</span> <span class="s">"\n"</span> <span class="o">+</span>
            					<span class="s">"书的简介："</span> <span class="o">+</span> <span class="n">bookAnnotation</span><span class="o">.</span><span class="na">briefOfBook</span><span class="o">()</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">+</span>
            					<span class="s">"书的销量："</span> <span class="o">+</span> <span class="n">bookAnnotation</span> <span class="o">.</span><span class="na">sales</span><span class="o">()</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
 <span class="cm">/**
  * 解析方法注解
  * @throws ClassNotFoundException
  */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">parseMethodAnnotation</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">ClassNotFoundException</span><span class="o">{</span>
        <span class="nc">Method</span><span class="o">[]</span> <span class="n">methods</span> <span class="o">=</span> <span class="nc">LoveStoryBook</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getDeclaredMethods</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Method</span> <span class="n">method</span> <span class="o">:</span> <span class="n">methods</span><span class="o">)</span> <span class="o">{</span>
             <span class="cm">/*
             * 判断方法中是否有指定注解类型的注解
             */</span>  
            <span class="kt">boolean</span> <span class="n">hasAnnotation</span> <span class="o">=</span> <span class="n">method</span><span class="o">.</span><span class="na">isAnnotationPresent</span><span class="o">(</span><span class="nc">BookAnnotation</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">hasAnnotation</span><span class="o">){</span>
            	 <span class="nc">BookAnnotation</span> <span class="n">bookAnnotation</span> <span class="o">=</span> <span class="o">(</span><span class="nc">BookAnnotation</span><span class="o">)</span> <span class="n">method</span><span class="o">.</span><span class="na">getAnnotation</span><span class="o">(</span><span class="nc">BookAnnotation</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                 <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"书名："</span> <span class="o">+</span> <span class="n">bookAnnotation</span><span class="o">.</span><span class="na">bookName</span><span class="o">()</span> <span class="o">+</span> <span class="s">"\n"</span> <span class="o">+</span>
                 					<span class="s">"书的简介："</span> <span class="o">+</span> <span class="n">bookAnnotation</span><span class="o">.</span><span class="na">briefOfBook</span><span class="o">()</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">+</span>
                 					<span class="s">"书的销量："</span> <span class="o">+</span> <span class="n">bookAnnotation</span> <span class="o">.</span><span class="na">sales</span><span class="o">()</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
  <span class="cm">/**
   * 解析域注解
   * @throws ClassNotFoundException
   */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">parseFieldAnnotation</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">ClassNotFoundException</span><span class="o">{</span>
        <span class="nc">Field</span><span class="o">[]</span> <span class="n">fields</span> <span class="o">=</span> <span class="nc">LoveStoryBook</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getDeclaredFields</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Field</span> <span class="n">field</span> <span class="o">:</span> <span class="n">fields</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">boolean</span> <span class="n">hasAnnotation</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="na">isAnnotationPresent</span><span class="o">(</span><span class="nc">AuthorAnnotation</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">hasAnnotation</span><span class="o">){</span>
            	<span class="nc">AuthorAnnotation</span> <span class="n">authorAnnotation</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="na">getAnnotation</span><span class="o">(</span><span class="nc">AuthorAnnotation</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            	 <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"作者："</span> <span class="o">+</span><span class="n">authorAnnotation</span><span class="o">.</span><span class="na">name</span><span class="o">()</span> <span class="o">+</span> <span class="s">"\n"</span> <span class="o">+</span>
      					<span class="s">"性别："</span> <span class="o">+</span> <span class="n">authorAnnotation</span><span class="o">.</span><span class="na">gender</span><span class="o">()</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>最后的最后就是验证我们自定义的注解是否正确</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AnnotationDemo</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">ClassNotFoundException</span> <span class="o">{</span>
		<span class="c1">//解析域的注解</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"下面是解析域的注解信息：\n\n"</span><span class="o">);</span>
		<span class="nc">ParseAnnotation</span><span class="o">.</span><span class="na">parseFieldAnnotation</span><span class="o">();</span>
		<span class="c1">//解析方法的注解</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"下面是解析方法的注解信息：\n\n"</span><span class="o">);</span>
		<span class="nc">ParseAnnotation</span><span class="o">.</span><span class="na">parseMethodAnnotation</span><span class="o">();</span>
		<span class="c1">//解析类的注解</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"下面是解析类的注解信息:\n\n"</span><span class="o">);</span>
		<span class="nc">ParseAnnotation</span><span class="o">.</span><span class="na">parseTypeAnnotation</span><span class="o">();</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>下面是解析域的注解信息：
作者：迈克尔.斯韦因
性别：男
下面是解析方法的注解信息：
书名：think in java
书的简介：本书详细地阐述了面向对象原理。覆盖了所有基础知识,同时论述了高级特性,适合初学者与专业人员的经典的面向对象叙述方式,为更新的Java SE5/6增加了新的示例和章节
书的销量：100000
下面是解析类的注解信息:
书名：硅谷之火
书的简介：本书以一个个生动的故事，介绍了这些计算机业余爱好者以怎样的创新精神和不懈的努力，将计算机技术的力量包装在一个小巧玲珑的机壳里，实现了个人拥有计算机的梦想
书的销量：1000001
</pre></table></code></div></div><blockquote class="prompt-tip"><div><p>注意</p><ul><li>对局部变量的注解只能在源码级别上进行处理，class文件并不描述局部变量。因此，所有的局部变量注解在编译完一个类的时候就会被遗弃掉。同样的，对包的注解不能在源码级别之外存在。<li>一条没有@Target限制的注解可以应用于任何项上。<li>@Inherited元注解只能应用于对类的注解</ul></div></blockquote><h2 id="通过反射访问注解"><span class="mr-2">通过反射访问注解</span><a href="#通过反射访问注解" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>程序通过反射获取了某个类的对象之后，程序就可以调用该对象的如下四个方法来访问注解信息：</p><ul><li>方法1： T getAnnotation(Class annotationClass)：返回该程序元素上存在的、指定类型的注解，如果该类型注解不存在，则返回null<li>方法2：Annotation[] getAnnotations()：返回该程序元素上存在的所有注解<li>方法3：boolean is AnnotationPresent(Class&lt;?extends Annotation&gt; annotationClass)：判断该程序元素上是否包含指定类型的注解，存在，则返回true；否则，返回false<li>方法4：Annotation[] getDeclaredAnnotations()：返回直接存在于此元素上的所有注解。与其他方法不同的是，该方法将忽略继承的注释。如果没有注解直接存在于此元素上，则返回长度为零的一个数组，该方法的调用者可以随意修改返回的数组，可是，这不会对其他调用者返回的数组产生任何影响。</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/software-development/'>Software Development</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/java/" class="post-tag no-text-decoration" >Java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://t.me/share/url?url=https://optimus-xs.github.io/posts/java-annotation-usage/&amp;text=Java 注解使用 - Optimus-Xs&#39; Blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://optimus-xs.github.io/posts/java-annotation-usage/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/how-to-write-a-dockerfile-elegantly/">如何优雅的编写Dockerfile</a><li><a href="/posts/java-file-io-usage/">Java 文件 IO 使用方法</a><li><a href="/posts/jvm-gc-mechanism/">JVM 的垃圾回收机制</a><li><a href="/posts/docker-engine-installation-on-ubuntu/">在 Ubuntu 上安装 Dockers Engine 流程</a></ul></div><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/devdairy/">DevDairy</a> <a class="post-tag" href="/tags/data-structure/">Data Structure</a> <a class="post-tag" href="/tags/%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/">安装流程</a> <a class="post-tag" href="/tags/geekdairy/">GeekDairy</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/redis/">Redis</a> <a class="post-tag" href="/tags/docker/">Docker</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/java-collection-overview/"><div class="card-body"> <em class="timeago small" data-ts="1601710080" > 2020-10-03 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java 集合类概览</h3><div class="text-muted small"><p> Java集合框架 集合是java中存放对象的容器，存放于java.util包中。下图是java集合类的继承与实现关系： 框架图说明 所有集合类都位于java.util包下。Java的集合类主要由两个接口派生而出：Collection和Map，Collection和Map是Java集合框架的根接口，这两个接口又包含了一些子接口或实现类。 集合接口：6个接口（短虚线表示），表示...</p></div></div></a></div><div class="card"> <a href="/posts/why-autowired-not-recommended/"><div class="card-body"> <em class="timeago small" data-ts="1602220140" > 2020-10-09 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>为什么使用 @Autowired 提示不推荐</h3><div class="text-muted small"><p> @Autowired注解相信每个Spring开发者都不陌生了！ 但是当我们使用IDEA写代码的时候，经常会发现@Autowired注解下面是有小黄线的，我们把小鼠标悬停在上面，可以看到这个如下图所示的警告信息： 那么为什么IDEA会给出Field injection is not recommended这样的警告呢？ 下面带着这样的问题，一起来全面的了解下Spring中的三种注入方...</p></div></div></a></div><div class="card"> <a href="/posts/java-generics-usage/"><div class="card-body"> <em class="timeago small" data-ts="1602660480" > 2020-10-14 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java 泛型使用方法</h3><div class="text-muted small"><p> 概述 泛型在java中有很重要的地位，在面向对象编程及各种设计模式中有非常广泛的应用。 什么是泛型？为什么要使用泛型？ 泛型，即“参数化类型”。一提到参数，最熟悉的就是定义方法时有形参，然后调用此方法时传递实参。那么参数化类型怎么理解呢？顾名思义，就是将类型由原来的具体的类型参数化，类似于方法中的变量参数，此时类型也定义成参数形式（可以称之为类型形参），然后在使用/调用时传入具体的类型（...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/java-reflection-usage/" class="btn btn-outline-primary" prompt="上一篇"><p>Java 反射使用方法</p></a> <a href="/posts/java-multithreading-overview/" class="btn btn-outline-primary" prompt="下一篇"><p>Java 多线程概览</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/Optimus-Xs">Optimus-Xs</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/devdairy/">DevDairy</a> <a class="post-tag" href="/tags/data-structure/">Data Structure</a> <a class="post-tag" href="/tags/%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/">安装流程</a> <a class="post-tag" href="/tags/geekdairy/">GeekDairy</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/redis/">Redis</a> <a class="post-tag" href="/tags/docker/">Docker</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/zh-cn.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
